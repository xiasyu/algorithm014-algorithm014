<a name="index">**Index**</a>
<a href="#0">ç¬¬ä¹å‘¨</a>  
&emsp;&emsp;&emsp;<a href="#1">ä»£ç  </a>  
&emsp;&emsp;&emsp;&emsp;<a href="#2">72. ç¼–è¾‘è·ç¦» è®°ä½é‚£å¼ å›¾</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#3">72. ç¼–è¾‘è·ç¦» æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#4">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#5">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#6">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ æ„Ÿæƒ³ </a>  
&emsp;&emsp;&emsp;&emsp;<a href="#7">300. æœ€é•¿ä¸Šå‡å­åºåˆ— (åŠ¨æ€è§„åˆ’)</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#8">300. æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰ æ„Ÿæƒ³ </a>  
&emsp;&emsp;&emsp;&emsp;<a href="#9">300. æœ€é•¿ä¸Šå‡å­åºåˆ— (è´ªå¿ƒ + äºŒåˆ†)</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#10">300. æœ€é•¿ä¸Šå‡å­åºåˆ— (è´ªå¿ƒ + äºŒåˆ†) æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#11">91. è§£ç æ–¹æ³•</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#12">91. è§£ç æ–¹æ³• æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#13">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼ˆæš´åŠ›è§£æ³•ï¼‰</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#14">32. æœ€é•¿æœ‰æ•ˆæ‹¬å· ï¼ˆæš´åŠ›è§£æ³•ï¼‰ æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#15">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(åŠ¨æ€è§„åˆ’è§£æ³•)</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#16">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(åŠ¨æ€è§„åˆ’è§£æ³•) æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#17">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ ˆçš„è§£æ³•)</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#18">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ ˆçš„è§£æ³•) æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#19">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ­£å‘é€†å‘ç»“åˆï¼‰çš„è§£æ³•</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#20">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ­£å‘é€†å‘ç»“åˆçš„è§£æ³•)æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#21">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(æš´åŠ›è§£æ³•)</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#22">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(æš´åŠ›è§£æ³•) æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#23">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(å•è°ƒæ ˆè§£æ³•)</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#24">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(å•è°ƒæ ˆè§£æ³•) æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#25">85. æœ€å¤§çŸ©å½¢ï¼ˆå•è°ƒæ ˆè§£æ³•ï¼‰</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#26">85. æœ€å¤§çŸ©å½¢ï¼ˆå•è°ƒæ ˆè§£æ³•ï¼‰æ„Ÿæƒ³</a>  
&emsp;&emsp;&emsp;&emsp;<a href="#27">85. æœ€å¤§çŸ©å½¢ï¼ˆåŠ¨æ€è§„åˆ’è§£æ³•ï¼‰</a>  
&emsp;&emsp;&emsp;&emsp;&emsp;<a href="#28">85. æœ€å¤§çŸ©å½¢ï¼ˆåŠ¨æ€è§„åˆ’è§£æ³•ï¼‰ æ„Ÿæƒ³</a>  

# <a name="0">ç¬¬ä¹å‘¨</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
#### <a name="1">ä»£ç  </a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
|é¢˜ç›®|å›°éš¾ç¨‹åº¦|å®Œæˆæ¬¡æ•°|
|--:|--:|--:|
|[72. ç¼–è¾‘è·ç¦»](https://leetcode-cn.com/problems/edit-distance/)|1|2|
|[746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/min-cost-climbing-stairs/)|1|2|
|[300. æœ€é•¿ä¸Šå‡å­åºåˆ—(åŠ¨æ€è§„åˆ’)](https://leetcode-cn.com/problems/longest-increasing-subsequence/)|1|2|
|[300. æœ€é•¿ä¸Šå‡å­åºåˆ—(è´ªå¿ƒ + äºŒåˆ†æŸ¥æ‰¾)](https://leetcode-cn.com/problems/longest-increasing-subsequence/)|1|2|
|[91. è§£ç æ–¹æ³•](https://leetcode-cn.com/problems/decode-ways/)|1|2|
|[32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æš´åŠ›è§£æ³•)](https://leetcode-cn.com/problems/longest-valid-parentheses/)|1|2|
|[32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(åŠ¨æ€è§„åˆ’è§£æ³•)](https://leetcode-cn.com/problems/longest-valid-parentheses/)|1|2|
|[32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ ˆçš„è§£æ³•)](https://leetcode-cn.com/problems/longest-valid-parentheses/)|1|2|
|[32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ­£å‘é€†å‘ç»“åˆçš„è§£æ³•)](https://leetcode-cn.com/problems/longest-valid-parentheses/)|1|2|
|[84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(æš´åŠ›è§£æ³•)](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)|1|2|
|[84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(å•è°ƒæ ˆè§£æ³•)](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)|1|2|
|[85. æœ€å¤§çŸ©å½¢(å•è°ƒæ ˆè§£æ³•)](https://leetcode-cn.com/problems/maximal-rectangle/)|1|2|





##### <a name="2">72. ç¼–è¾‘è·ç¦» è®°ä½é‚£å¼ å›¾</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[72. ç¼–è¾‘è·ç¦»](https://leetcode-cn.com/problems/edit-distance/)
```
class Solution:
    def minDistance(self, word1: str, word2: str) -> int:
        m = len(word1)
        n = len(word2)
        dp = [[0] * (n + 1) for _ in range(m + 1)]
        for i in range(1,m + 1):
            dp[i][0] = dp[i - 1][0] + 1
        for j in range(1, n + 1):
            dp[0][j] = dp[0][j - 1] + 1

        for k in range(1,m + 1):
            for l in range(1,n + 1):
                if word1[k - 1] == word2[l - 1]:
                    dp[k][l] = dp[k - 1][l - 1]
                else:
                    dp[k][l] = min(dp[k - 1][l], dp[k][l - 1],dp[k - 1][l - 1]) + 1
        return dp[m][n]     
```

###### <a name="3">72. ç¼–è¾‘è·ç¦» æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[å‚è€ƒé“¾æ¥](https://leetcode-cn.com/problems/edit-distance/solution/zi-di-xiang-shang-he-zi-ding-xiang-xia-by-powcai-3/)
```
åŠ¨æ€è§„åˆ’ï¼š
dp[i][j]ä»£è¡¨word1 åˆ°iä½ç½®è½¬æ¢æˆword2åˆ°jä½ç½®éœ€è¦æœ€å°‘æ­¥æ•°
æ‰€ä»¥
å½“word1[i] == word2[j]æ—¶ï¼Œdp[i][j] = dp[i-1][j-1]
å½“word1[i] != word2[j]æ—¶ï¼Œdp[i][j] = min(dp[i][j-1],dp[i-1][j],dp[i-1][j-1]) + 1
å…¶ä¸­dp[i-1][j-1] ä»£è¡¨æ›¿æ¢æ“ä½œ dp[i][j-1]ä»£è¡¨æ’å…¥æ“ä½œï¼Œdp[i-1][j]ä»£è¡¨åˆ é™¤æ“ä½œ
   
```
![](media/16031743972700/16031748437652.jpg)


##### <a name="4">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode-cn.com/problems/min-cost-climbing-stairs/)
```
    æ–¹æ³•ä¸€
    def minCostClimbingStairs(self, cost: List[int]) -> int:
        n = len(cost)
        if n == 0:
            return 0
        dp = [0] * n
        dp[0] = cost[0]
        dp[1] = cost[1]
        for i in range(2,n):
            dp[i] = cost[i] + min(dp[i-1] , dp[i-2])
        return min(dp[-1] , dp[-2])  
    æ–¹æ³• äºŒ
    def minCostClimbingStairs(self, cost: List[int]) -> int:
         é¦–å…ˆå¾—åˆ°æœ€æœ‰çŠ¶æ€è½¬ç§»æ–¹ç¨‹
        n = len(cost)
        dp = [0] * n
        dp[1] = min(cost[0],cost[1])
        for i in range(2, n):
            dp[i] = min(dp[i - 1] + cost[i],dp[i - 2] + cost[i - 1])
        return dp[n-1]      
          
```

###### <a name="5">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[å‚è€ƒé“¾æ¥](https://leetcode.com/problems/min-cost-climbing-stairs/discuss/657490/Python-solution-from-a-beginner-(some-easy-steps-to-follow-to-solve-dp))
```
å†æ¬¡å›é¡¾åšè¿‡çš„åŸä»£ç ï¼Œå‘ç°ï¼Œæˆ‘ä¹‹å‰æƒ³çš„æ ¹æœ¬ä¸å¯¹
è¿™æ¬¡é‡æ–°å›é¡¾ï¼Œå¹¶æ€è€ƒé‡å†™æ„Ÿæ‚Ÿ
è·Ÿç¬¬äºŒç§æ–¹å¼çš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œæˆ‘å…ˆæ‹¿åˆ°åˆ°è¾¾dp[i]çš„æœ€å°èŠ±è´¹ï¼Œç„¶åmin(dp[i-1],dp[i]) æ±‚æœ€å°å€¼ã€‚å› ä¸ºè¿™ä¸¤ä¸ªéƒ½å¯ä»¥åˆ°è¾¾é¡¶éƒ¨
1ã€ä»ä¸¤ä¸ªæ–¹å‘å‡ºå‘
   åˆ°è¾¾é¡¶éƒ¨ min(dp[i] dp[i - 1])
      1.åˆ†è§£dp[i]
        dp[i] = dp[i - 1] + cost[i]
    or  dp[i] = dp[i - 2] + cost[i]
    so. dp[i] = min(dp[i - 1], dp[i - 2]) + cost[i]
       2.dp[0] = cost[0]
         dp[1] = min(cost[1], cost[0])
2ã€æ‰§è¡Œå¾ªç¯å³å¯
3ã€è¿”å› min(dp[-1],dp[-2])
ç–‘æƒ‘ï¼šä¸ºä»€ä¹ˆåˆ°è¾¾dp[i]çš„æœ€å°å€¼ï¼Œdp[i-1]ä¸­çš„æ•°å€¼ä¹Ÿæ˜¯åˆ°è¾¾ dp[i - 1]çš„æœ€å°å€¼å—ï¼Ÿæ˜¯ï¼ åŸå› ï¼šå‰é¢éƒ½æ˜¯æŒ‰ç…§minç­›é€‰çš„ã€‚æš‚æ—¶è¿™æ ·è®°ä½å§ã€‚           
  
```

###### <a name="6">746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯ æ„Ÿæƒ³ </a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[å‚è€ƒé“¾æ¥](https://leetcode-cn.com/problems/min-cost-climbing-stairs/solution/yi-bu-yi-bu-tui-dao-dong-tai-gui-hua-de-duo-chong-/)
```
å†æ¬¡å›é¡¾è¿™ä¸ªé¢˜ï¼Œè®©æˆ‘æ„Ÿè§‰åˆ°äº†ï¼Œåšé¢˜ä¸è¦æ±‚å¿«ï¼Œåš100é“é¢˜ï¼Œæœ€åä¸€é“ä¹Ÿè®°ä¸ä½ï¼Œç”šè‡³å›å¤´å†çœ‹è·Ÿæ–°é¢˜ä¸€æ ·ï¼Œå¾—ä¸å¿å¤±
è¿™é“é¢˜æˆ‘æœ‰äº†æ–°çš„ç†è§£
é¦–å…ˆæ˜¯ä»åå¾€å‰æ¨ï¼ˆä¸ºä»€ä¹ˆå‘¢ï¼Ÿæš‚æ—¶ä¸çŸ¥é“ï¼‰
   1.åˆ°è¾¾æˆ–è€…è¶Šè¿‡ç¬¬ié˜¶æ¢¯éƒ½æ˜¯æ­£ç¡®çš„
      1> åˆ°è¾¾ç¬¬ié˜¶æ¢¯ï¼Œmincost[i] = mincost[i - 1] + cost[i]
      2>  è¶Šè¿‡ç¬¬ié˜¶æ¢¯(æ¢å¥è¯è¯´ï¼Œåªè¦åˆ°è¾¾ i- 1é˜¶æ¢¯å³å¯)ï¼šmincost[i] = mincost[i - 2] + cost[i - 1]
   2.ç”±æ­¤å¯å¾—ï¼šminconst[i] = min(mincost[i - 1] + cost[i], mincost[i - 2] + cost[i - 1])
   3.è¿™æ˜¯ä»ç¬¬2é˜¶æ¢¯å¼€å§‹çœ‹çš„ï¼Œæ‰€ä»¥ç¬¬0é˜¶æ¢¯å’Œç¬¬1é˜¶æ¢¯è¿˜éœ€è¦æˆ‘ä»¬è‡ªå·±æ¥ç®—ï¼Œä¹Ÿå°±æ˜¯éœ€è¦æ˜¾å¾—å‡ºcost[0],cost[1]
   ä»£ç å¦‚ä¸‹ï¼š
   ç”±minconst[i] = min(mincost[i - 1] + cost[i], mincost[i - 2] + cost[i - 1])å¯å¾—:
   cost[0] = min(cost[0],cost[-1]) = 0
   cost[1] = min(cost[1],cost[0])
   ä¸ºä»€ä¹ˆå¾—å‡ºè¿™ç§ç»“æœå‘¢ï¼šå› ä¸ºmin(mincost[i - 1] + cost[i], mincost[i - 2] + cost[i - 1])ä¸­ï¼Œå½“i= 0çš„æ—¶å€™ï¼Œmincost[i - 1] + cost[i] å°±æ˜¯cost[0],mincost[i - 2] + cost[i - 1]å°±æ˜¯cost[-1]
   æ‡‚äº†å—ï¼Ÿ
    
```


##### <a name="7">300. æœ€é•¿ä¸Šå‡å­åºåˆ— (åŠ¨æ€è§„åˆ’)</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[300. æœ€é•¿ä¸Šå‡å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence/)
```
    æ—¶é—´å¤æ‚åº¦ä¸º 0(n^2)
    def minCostClimbingStairs(self, cost: List[int]) -> int:
        n = len(cost)
        if n == 0:
            return 0
        dp = [0] * n
        dp[0] = cost[0]
        dp[1] = cost[1]
        for i in range(2,n):
            dp[i] = cost[i] + min(dp[i-1] , dp[i-2])
        return min(dp[-1] , dp[-2]) 
        
    æ–¹æ³•äºŒï¼šè¿™ä¸ªæ–¹æ³•æ²¡æœ‰çœ‹æ˜ç™½
    def lengthOfLIS(self, nums):
        tails = [0] * len(nums)
        size = 0
        for x in nums:
            i, j = 0, size
            while i != j:
                m = (i + j) // 2
                if tails[m] < x:
                    i = m + 1
                else:
                    j = m
            tails[i] = x
            size = max(i + 1, size)
        return size   
```

###### <a name="8">300. æœ€é•¿ä¸Šå‡å­åºåˆ—ï¼ˆåŠ¨æ€è§„åˆ’ï¼‰ æ„Ÿæƒ³ </a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[å‚è€ƒé“¾æ¥](https://leetcode-cn.com/problems/longest-increasing-subsequence/solution/zui-chang-shang-sheng-zi-xu-lie-dong-tai-gui-hua-2/)
[è§†é¢‘å‚è€ƒé“¾æ¥](https://www.bilibili.com/video/BV137411B7BN?from=search&seid=14029252552532980305)
```
å†æ¬¡å›é¡¾ï¼Œåˆæœ‰ä¸åŒçš„æ„Ÿå—ï¼Œæ„Ÿè§‰ä¹‹é—´çš„åšæ³•å°±å½¢å¼æ¯”ç€é¢˜è§£æŠ„äº†ä¸€éã€‚ä»€ä¹ˆç©æ„å„¿
1ã€è¿™é“é¢˜åµŒå¥—äº†ä¸¤å±‚forå¾ªç¯ï¼Œå°±æ˜¯å°† ç¬¬iä¸ªå…ƒç´ è·Ÿä»–ä¹‹å‰çš„å…ƒç´ è¿›è¡Œä¸€ä¸€å¯¹æ¯”ï¼Œç´¯è®¡ç¬¬iä¸ªå…ƒç´ çš„æœ€å¤§å­åºåˆ—ä¸ªæ•°
   dp = [1] * n

   for i in range(len(nums)):
        fof j in range(i):
            æ ¸å¿ƒä»£ç :
            if nums[j] < num[i]:
               dpç±»ä¼¼äºæš‚å­˜çŠ¶æ€ï¼Œéšç€iå’Œjå…ƒç´ çš„å¯¹æ¯”ï¼Œdp[i]ä¸æ–­ä¿®æ”¹çš„è¿‡ç¨‹
               dp[i] = max(dp[i],dp[j] + 1)
2. å–dpçš„æœ€å¤§å€¼å³å¯ã€‚ï¼ˆåƒä¸‡ä¸è¦è¯¯ä»¥ä¸ºè¿™æ˜¯ç´¯åŠ çš„è¿‡ç¨‹ï¼Œæœ‰å¯èƒ½dp[-1]ä¸æ˜¯æœ€å¤§å…ƒç´ ã€‚å› ä¸ºè¿™é“é¢˜ä¸­é€»è¾‘ä¸Šdpæ²¡æœ‰é¡ºåºï¼‰
```

##### <a name="9">300. æœ€é•¿ä¸Šå‡å­åºåˆ— (è´ªå¿ƒ + äºŒåˆ†)</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
    def lengthOfLIS1(self, nums: List[int]) -> int:
        n = len(nums)
        length = 0
        tail = {}
        for i in range(n):
            x = nums[i]
            l = 0
            r = length
            while(l < r):
                mid = (l + r + 1) // 2
                if tail[mid] < x:
                    l = mid
                else:
                    r = mid - 1
            tail[l + 1] = x
            length = max(length, l + 1)
        return length
```
###### <a name="10">300. æœ€é•¿ä¸Šå‡å­åºåˆ— (è´ªå¿ƒ + äºŒåˆ†) æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[å‚è€ƒé“¾æ¥](https://www.bilibili.com/video/BV1GA411B76a?from=search&seid=14029252552532980305)
```
è¿™ä¸ªæ–¹æ³•æœ‰äº›å·§å¦™
æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šçœ‹è¿™ä¸ªè§†é¢‘å§ï¼Œå¥½å¥½çœ‹ï¼
```

##### <a name="11">91. è§£ç æ–¹æ³•</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
from typing import List
    def numDecodings(self, s: str) -> int:
        n = len(s)
        if n == 0:
            return 0
        if s[0] == '0':
            return 0
        dp = [0] * (n + 1)
        for i in  range(1, n + 1):
            if s[i] == '0':
                if s[i - 1] == '1' or s[i - 1] == '2':
                    dp[i + 1] = dp[i - 1]
                else:
                    return 0
            else:
                if s[i - 1] == '1' or (s[i - 1] == '2' and s[i] <= '6'):
                    dp[i + 1] = dp[i] + dp[i - 1]
                else:
                    dp[i + 1] = dp[i]
        return dp[-1]
```

###### <a name="12">91. è§£ç æ–¹æ³• æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
æ¢äº†ä¸€ç§è§£æ³•
å…³äºä¸ºä»€ä¹ˆ dp[0] = 1,dp[1] = 1 
æ²¡ç†è§£ï¼Œ
```
##### <a name="13">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·ï¼ˆæš´åŠ›è§£æ³•ï¼‰</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
from typing import List
class Solution:
     æš´åŠ›è§£æ³•
    def longestValidParentheses(self, s: str) -> int:
         é¦–å…ˆå®šä¹‰ä¸€ä¸ª isValidçš„å‡½æ•°ï¼Œåˆ¤æ–­å­—ä¸²æ˜¯å¦æ˜¯åˆæ³•å­—ä¸²
         ç„¶åæˆªå–æµ‹è¯•é•¿åº¦çš„å­—ä¸²ï¼Œè¿›è¡Œåˆ¤æ–­ã€‚å¦‚æœæˆªå–çš„å­—ä¸²ä¸ºæœ‰æ•ˆå­—ä¸²ï¼Œåˆ™é•¿åº¦ä¸ºåˆæ³•å­—ä¸²ï¼ˆç”±é•¿åˆ°çŸ­å¼€å§‹æˆªå–ï¼‰

         å®šä¹‰çš„åˆ¤æ–­å­—ä¸²æ˜¯å¦åˆæ³•çš„å‡½æ•°
        def isValid(subs):
            stack = []
            n = len(subs)
            for i in range(n):
                if subs[i] == '(':
                    stack.append('(')
                elif stack != [] and stack[-1] == '(':
                    stack.pop()
                else:
                    return False
            return stack == []

         å¼€å§‹è¿›è¡Œéå†
        n = len(s)
        if n < 2:
            return 0
        å› ä¸ºæœ‰æ•ˆå­—ä¸²ä¸€å®šæ˜¯å¶æ•°ï¼Œå¦‚æœæ€»é•¿åº¦ä¸ºå¶æ•°ï¼Œåˆ™è¾¹ç•Œnå¦åˆ™ä¸ºn-1ã€‚æ¯æ¬¡éå†éƒ½å‡å»ä¸¤ä¸ªé•¿åº¦ã€‚
        for i in range(n if n % 2 == 0 else n - 1, 0 , -2):
            for j in range(n - i + 1):
                if isValid(s[j:j+i]):
                    return i
        return 0
```

###### <a name="14">32. æœ€é•¿æœ‰æ•ˆæ‹¬å· ï¼ˆæš´åŠ›è§£æ³•ï¼‰ æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
``` 
1ã€æš´åŠ›è§£æ³•åˆ©ç”¨äº†æ ˆçš„åŸç†ï¼Œæ¥åˆ¤æ–­å­—ç¬¦ä¸²çš„åˆæ³•æ€§
2ã€åˆ©ç”¨äº†åˆæ³•çš„å­—ç¬¦ä¸²ä¸ºå¶æ•°çš„åŸç†æ¥ä»é•¿åˆ°çŸ­éå†å­—ç¬¦ä¸²
   1.é¦–å…ˆæ‰¾åˆ°æœ€å¤§å¶æ•°
   2.åœ¨æœ€å¤§å¶æ•°ä¸­æ¯æ¬¡--2
   3.æ¯æ¬¡éªŒè¯åˆæ³•æ€§
   4.åˆæ³•å³è¿”å›
```

##### <a name="15">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(åŠ¨æ€è§„åˆ’è§£æ³•)</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
ç¬¬äºŒç§åŠ¨æ€è§„åˆ’çš„æ–¹æ³•
    def longestValidParentheses1(self, s: str) -> int:
         é¦–å…ˆæ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹
         dp[i] = 2 + dp[i - 1] + dp[i - dp[i - 1] - 2]
        n = len(s)
        if n < 2:
            return 0
        dp = [0] * n
        for i in range(n):
            if s[i] == ')' and i - dp[i - 1] - 1 >= 0 and s[i - dp[i - 1] - 1] == '(':
                dp[i] = 2 + dp[i - 1] + dp[i - dp[i-1] - 2]
        return max(dp)
```
###### <a name="16">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(åŠ¨æ€è§„åˆ’è§£æ³•) æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[å‚è€ƒé“¾æ¥](https://leetcode-cn.com/problems/longest-valid-parentheses/solution/zui-chang-you-xiao-gua-hao-by-leetcode-solution/)
```
å…¶å®è§†é¢‘é‡Œè®²çš„å·²ç»å¾ˆè¯¦ç»†äº†
æ€è·¯
é¦–å…ˆï¼Œåªæœ‰')'æ‰ä¼šæ›´æ–°çŠ¶æ€æ•°å­—ã€‚'('å¯¹åº”çš„çŠ¶æ€æ•°å­—éƒ½ä¸º0.
1ã€é¦–å…ˆæ‰¾åˆ°çŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€‚
   dp[i] = 2 + dp[i - 1] + dp[i - dp[i - 1] - 2]
   è§£é‡Šä¸€ä¸‹è¿™ä¸ªæ–¹ç¨‹çš„æ„æ€
   1.2 ä»£è¡¨çš„æ˜¯ï¼Œå¦‚æœi')'æ‰¾åˆ°äº†é…å¯¹å„¿çš„'(',åˆ™ç¨‹åº¦ä¸º2ï¼Œè¿™ä¸ª2å°±æ˜¯è‡ªå·±çš„2
   2.dp[i - 1]ä»£è¡¨çš„æ˜¯ç¬¬iä¸ªæœ‰æ•ˆé…å¯¹å„¿çš„'()'ä¸­é—´çš„åˆæ³•å­—ç¬¦ä¼ é•¿åº¦
   3.dp[i - dp[i - 1] - 2] æ˜¯ä¸ç¬¬iä¸ª')'é…å¯¹çš„'('çš„ä¸Šä¸€ä¸ªdpå­˜å‚¨çš„é•¿åº¦ã€‚
   ç»“åˆè§†é¢‘è¯¦ç»†è§‚çœ‹
   
 2ã€å¯¹äºä¸­é—´å‡ºç°çš„ä¸åˆæ³•å­—ç¬¦ä¸²ï¼š
    1.å¦‚æœæ˜¯ä¸­é—´å¤šäº†ä¸ª'(',ä¸ç”¨ç®¡å“¦ï¼Œå› ä¸ºå®ƒå¯¹åº”çš„çŠ¶æ€æ•°å­—å°±æ˜¯0
    2.å¦‚æœæ˜¯ä¸­é—´å¤šäº†ä¸ª')',ç›´æ¥è®¡ç®—å°±å¥½äº†ï¼Œä¸Šé¢çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ±‚å‡ºå¯¹åº”çš„çŠ¶æ€ä¸º0
       

```

##### <a name="17">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ ˆçš„è§£æ³•)</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
 ç¬¬ä¸‰ç§æ–¹æ³• æ ˆ
    def longestValidParentheses3(self, s: str) -> int:
        n = len(s)
        if n < 2:
            return 0
        stack = [-1]
        max_length = 0
        for i in range(n):
            if s[i] == '(':
                stack.append(i)
            else:
                stack.pop()
                if stack == []:
                    stack.append(i)
                else:
                    length = i - stack[-1]
                    max_length = max(length, max_length)
        return max_length
```
###### <a name="18">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ ˆçš„è§£æ³•) æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
æ—¶é—´å¤æ‚åº¦ä¸º o(n)
é¦–å…ˆåœ¨æ ˆå†…æ·»åŠ  -1
1ã€é‡åˆ°'('åˆ™å…¥æ ˆï¼Œé‡åˆ°')'åˆ™å‡ºæ ˆ
2ã€å…¥æ ˆä¸åšæ“ä½œï¼Œå‡ºæ ˆçš„æ—¶å€™ï¼š
   1.å¦‚æœæ ˆä¸ä¸ºç©ºï¼Œ
   2.å¦‚æœæ ˆä¸ºç©ºï¼Œåˆ™å°†iå…¥æ ˆ
   3.è®¡ç®— i - stack[-1],å¾—åˆ°çš„é•¿åº¦è·Ÿmax_lengthå¯¹æ¯”ï¼Œå–å¤§è€…
3ã€è¿”å›max_length   
```

##### <a name="19">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ­£å‘é€†å‘ç»“åˆï¼‰çš„è§£æ³•</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
 ç¬¬å››ç§æ–¹æ³• æ­£å‘é€†å‘ç»“åˆæ³•
    def longestValidParentheses4(self, s: str) -> int:
        left = 0
        right = 0
        max_length = 0
        for c in s:
            if c == '(':
                left += 1
            else:
                right += 1
            if left == right:
                max_length = max(max_length, 2 * right)
            elif left < right:
                left = right = 0

        left = right = 0
        
        for c in s[::-1]:
            if c == ')':
                right += 1
            else:
                left += 1
            if left == right:
                max_length = max(max_length, 2 * left)
            elif left > right:
                left = right = 0   
        return max_length
```
###### <a name="20">32. æœ€é•¿æœ‰æ•ˆæ‹¬å·(æ­£å‘é€†å‘ç»“åˆçš„è§£æ³•)æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
æ­£å‘é€†å‘ç»“åˆçš„æ€è·¯
1ã€æ­£å‘å¼€å§‹ï¼Œ
   1.é‡åˆ°'(' +1ï¼Œé‡åˆ°')' +1,å½“ä¸¤ä¸ªå€¼ç›¸ç­‰çš„æ—¶å€™ï¼Œmax_lengthä¸º max(max_length,2 * left) 
   2.å¦‚æœå‡ºç°äº†')'çš„ä¸ªæ•°å¤§äº'(',åˆ™å°†')'å’Œ'('çš„ä¸ªæ•°ç½®ä¸º0.
   éå†ç»“æŸå¾—åˆ° max_length
2.é€†å‘å¼€å§‹
   æ³¨æ„ï¼šè·Ÿæ­£å‘ä¸åŒçš„æ˜¯
   1.å­—ç¬¦ä¸²å€’ç½®
   1. å¦‚æœå‡ºç°äº†'('çš„ä¸ªæ•°å¤§äº')',åˆ™å°†')'å’Œ'('çš„ä¸ªæ•°ç½®ä¸º0. 
è¿”å› max(max_length_left, max_length_right)
```
##### <a name="21">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(æš´åŠ›è§£æ³•)</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(æš´åŠ›è§£æ³•)](https://leetcode-cn.com/problems/largest-rectangle-in-histogram/)
```
from typing import List
class Solution:
     ç¬¬ä¸€ç§æ–¹å¼ (æš´åŠ›è§£æ³•)
    def largestRectangleArea(self, heights: List[int]) -> int:
        n = len(heights)
        max_area = 0
        for i in range(n):
            left = i
            right = i
            height = heights[i]
            è¿™ä¸€æ­¥æˆ‘åœ¨åˆ¤æ–­heights[left - 1] >= heightçš„æ—¶å€™å‡ºé”™äº†ï¼Œ>= æˆ‘å†™æˆäº† <,è¿™æ˜¯ä¸å¯¹çš„ã€‚å› ä¸ºåªæœ‰åœ¨å¤§äºheightçš„æ—¶å€™leftæ‰ä¼šæƒ³åšç§»åŠ¨ï¼ŒrightåŒç†
            while left - 1 >= 0 and heights[left - 1] >= height:
                left -= 1
            while right + 1 < n and heights[right + 1] >= height:
                right += 1
            max_area = max(max_area, height * (right - left + 1))
        return max_area
```

###### <a name="22">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(æš´åŠ›è§£æ³•) æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
æ—¶é—´å¤æ‚åº¦ä¸º o(n^2), ç©ºé—´å¤æ‚åº¦ä¸º o(1)
æš´åŠ›è§£æ³•å…¶å®å°±æ˜¯å›ºå®šé«˜åº¦ï¼Œç§»åŠ¨å®½åº¦çš„è§£æ³•
1ã€ç¬¬iä¸ªçŸ©å½¢é«˜åº¦ä¸åŠ¨ï¼Œæ¥æ‰¾æ˜¯å½“å‰é¢ç§¯æœ€å¤§çš„å®½åº¦
2ã€forå¾ªç¯æŸ±å­
   1.ä»¥å½“å‰æŸ±å­ä¸ºå‡†ï¼Œå·¦å³ç§»åŠ¨åæ ‡ï¼Œå¦‚æœleft >= height[i],left--ã€‚å¦‚æœright >= height[i],right ++
   2.è®°å½•æ¯æ¬¡çš„æœ€å¤§é¢ç§¯ max_area = max(max_area, height * (right - left + 1))
 return max_area   

```
##### <a name="23">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(å•è°ƒæ ˆè§£æ³•)</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
 ç¬¬äºŒç§æ–¹å¼ ï¼ˆå•è°ƒæ ˆï¼‰
    def largestRectangleArea1(self, heights: List[int]) -> int:
         é¦–å°¾æ·»åŠ 0é«˜åº¦çš„æŸ±å­
        heights = [0] + heights + [0]
        stack = []
        res = 0
        for idx_right in range(len(heights)):
            while stack and heights[stack[-1]] > heights[idx_right]:
                h_mid = heights[stack.pop()]
                idx_left = stack[-1]
                ä¸€å®šè¦è®°ä½è¿™ä¸ªè¾¹ç•Œé—®é¢˜ idx_right - idx_left - 1
                res = max(res, h_mid * (idx_right - idx_left - 1))
            stack.append(idx_right)
        return res
```

###### <a name="24">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢(å•è°ƒæ ˆè§£æ³•) æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
é¦–å…ˆè¦åœ¨é¦–ä½å„è‡ªæ·»åŠ ä¸€ä¸ª0å…ƒç´ ï¼Œä¸ºäº†è¿›è¡Œè¾¹ç•Œåˆ¤æ–­ä½¿ç”¨ã€‚å› ä¸ºåŸå§‹æ•°ç»„ä¸­æœ€å·¦ä¾§çš„å…ƒç´ æ²¡æœ‰å·¦è¾¹ç•Œï¼Œæœ€å³ä¾§çš„å…ƒç´ æ²¡æœ‰æœ‰è¾¹ç•Œ
å…³é”®ç‚¹ï¼šå‘å·¦å‘å³æ‰¾æ¬¡å°å…ƒç´ ï¼Œæ­£å¥½ç¬¦åˆå•è°ƒæ ˆçš„æ¨¡å¼
åˆå§‹åŒ–ä¸€ä¸ªæ ˆ stack
1ã€å¦‚æœæ ˆä¸ä¸ºç©ºï¼Œå¹¶ä¸”æ ˆé¡¶å…ƒç´ å¤§äºæ¥ä¸‹æ¥çš„ç¬¬iä¸ªå…ƒç´ ï¼Œåˆ™å¼¹å‡ºæ ˆé¡¶å…ƒç´ ï¼Œæ‹¿åˆ°é«˜åº¦ã€‚
   1.æ‹¿åˆ°æ ˆé¡¶å…ƒç´ çš„é«˜åº¦åï¼Œpopå‡ºæ ˆé¡¶å…ƒç´ å®šä¹‰ä¸ºh_midï¼Œç„¶åå–å‡ºstack[-1]å®šä¹‰ä¸ºidx_left(popå‡ºå»çš„æ ˆé¡¶å…ƒç´ çš„å‰ä¸€ä¸ªå€¼),stack[-1]å…¶å®ä¹Ÿæ˜¯popå‡ºå»çš„æ ˆé¡¶å…ƒç´ çš„å·¦è¾¹ç•Œ
    2.max_area = max(max_area,h_mid * (i - idx_left - 1))
2ã€å¦‚æœæ¡ä»¶ä¸€ä¸€ç›´æˆç«‹ï¼Œåˆ™ä¸€ç›´æ‰§è¡Œæ¡ä»¶ä¸€ï¼Œå¦åˆ™
    1.ç»“æŸæ¡ä»¶ä¸€ï¼Œå°†iå…¥æ ˆ
return max_area

```
##### <a name="25">85. æœ€å¤§çŸ©å½¢ï¼ˆå•è°ƒæ ˆè§£æ³•ï¼‰</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[85. æœ€å¤§çŸ©å½¢](https://leetcode-cn.com/problems/maximal-rectangle/)
```
from typing import List
class Solution:
     å•è°ƒæ ˆ è§£æ³•ï¼ˆåµŒå¥—äº† 84 æ±‚æœ€å¤§çŸ©å½¢é¢ç§¯ çš„å®Œæ•´ä»£ç ï¼‰
    def maximalRectangle(self, matrix: List[List[str]]) -> int:
        m = len(matrix)
        if m == 0:
            return 0
        n = len(matrix[0])
        max_area = 0
        heights = [0] * n
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == '1':
                    heights[j] += 1
                else:
                    heights[j] = 0
            max_area = max(max_area, self.largestRectangleArea(heights))

        return max_area

     è®¡ç®—çŸ©å½¢çš„æœ€å¤§é¢ç§¯
    def largestRectangleArea(self, heights: List[int]) -> int:
        heights = [0] + heights + [0]
        max_area = 0
        stack = []
        for idx_right in range(len(heights)):
            while stack and heights[stack[-1]] > heights[idx_right]:
                h_mid = heights[stack.pop()]
                idx_left = stack[-1]
                max_area = max(max_area, h_mid * (idx_right - idx_left - 1))
            stack.append(idx_right)
        return max_area
```
###### <a name="26">85. æœ€å¤§çŸ©å½¢ï¼ˆå•è°ƒæ ˆè§£æ³•ï¼‰æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
å…¶å®æ˜¯å€Ÿç”¨äº† 84é¢˜çš„å®Œæ•´ä»£ç 
1ã€å¾ªç¯çŸ©é˜µçš„æ¯ä¸€å±‚,åˆå§‹åŒ–å­˜å‚¨å½“å‰å±‚é«˜åº¦çš„æ•°ç»„heights
2ã€æ¯åˆ°ä¸€å±‚ï¼Œå°†ä¸Šå±‚çš„æ•°å€¼å åŠ 
   1.å¦‚æœmatrix[i][j] == 0ï¼Œåˆ™é‡ç½®heights[j]é«˜åº¦ä¸º0
   2.å¦åˆ™è¿›è¡Œ heights[j] += 1
   3.å åŠ å®Œæˆï¼Œå°†heightsä¼ å…¥åˆ°æœ€å¤§çŸ©å½¢é¢ç§¯çš„æ–¹æ³•ä¸­ï¼Œmax(max_area, self.largestRectangleArea(heights))
retrun max_area    
```
##### <a name="27">85. æœ€å¤§çŸ©å½¢ï¼ˆåŠ¨æ€è§„åˆ’è§£æ³•ï¼‰</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
```
    m = len(matrix)
        if m == 0:
            return 0
        n = len(matrix[0])
        dp = [[0] * n for _ in range(m)]
        max_area = 0
        for i in range(m):
            for j in range(n):
                if matrix[i][j] == '0':
                    continue
                row_with = dp[i][j] = dp[i][j - 1] + 1 if j else 1
                for k in range(i, -1, -1):
                    row_with = min(row_with,dp[k][j])
                    max_area = max(max_area,row_with * (i - k + 1))
        return max_area
```

###### <a name="28">85. æœ€å¤§çŸ©å½¢ï¼ˆåŠ¨æ€è§„åˆ’è§£æ³•ï¼‰ æ„Ÿæƒ³</a><a style="float:right;text-decoration:none;" href="#index">[Top]</a>
[å‚è€ƒé“¾æ¥](https://leetcode-cn.com/problems/maximal-rectangle/solution/zui-da-ju-xing-by-leetcode/)
```
è¦ç†è§£æ­¤æ–¹æ³•ï¼Œé¦–å…ˆè¦å…ˆç†è§£æš´åŠ›ç ´è§£æ³•
æš´åŠ›ç ´è§£æ³•æè¿°ï¼š
1.é¦–å…ˆæˆ‘ä»¬è®¡ç®—å‡ºå½“å‰ç€è¿™ä¸€è¡ŒçŸ©å½¢çš„æœ€å¤§å®½åº¦ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è®¡ç®—æ¯ä¸€è¡Œæ¯ä¸€ä¸ªæ–¹å—å„¿è¿ç»­1çš„æ•°é‡ä¹‹å’Œæ¥å®ç°è¿™ä¸€ç‚¹ã€‚æ¯éå†å®Œä¸€è¡Œå°±æ›´æ–°è¯¥ç‚¹çš„æœ€å¤§å¯èƒ½å®½åº¦ã€‚
   ä»£ç ï¼šrow[i] = row[i - 1] + i if row[i] == '1'
2.åŒæ—¶æˆ‘ä»¬åœ¨è®¡ç®—å®½åº¦çš„è¿‡ç¨‹ä¸­ï¼Œä¹Ÿæ‰§è¡Œç€è¿™ä¸ªæ“ä½œ
   1.å½“å‰è¡Œå¾€ä¸Šéå†ã€‚ä½†æ˜¯è¿™ä¸ªéå†çš„è¿‡ç¨‹æˆ‘ä»¬å–çš„æ˜¯å·²ç»è®°å½•åœ¨dpä¸­çš„æœ€å°å€¼ï¼Œå°±æ˜¯å½“å‰è¡Œï¼Œå½“å‰åˆ—æ‰€èƒ½è®¡ç®—çŸ©å½¢é¢ç§¯çš„æœ€å¤§å®½åº¦ã€‚å¦‚æœæ²¡ç†è§£ï¼Œçœ‹å®˜æ–¹å§ğŸ˜¢
3.ä¸æ–­æ›´æ–°max_area   

```
